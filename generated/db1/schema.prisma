generator client {
  provider = "prisma-client-js"
  output   = "../generated/db1"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL_DB1")
}

model BookingInfo {
  bookingID      Int       @id @default(autoincrement())
  RoomName       String?   @db.VarChar(255)
  sendDate       DateTime? @default(now())
  sender         String?   @db.VarChar(255)
  senderEmail    String?   @db.VarChar(255)
  phoneIn        String?   @db.VarChar(255)
  phoneOut       String?   @db.VarChar(255)
  jobName        String?   @db.VarChar(255)
  officeLocation String?   @db.VarChar(255)
  purpose        String?   @db.VarChar(255)
  startDate      DateTime? @default(now())
  endDate        DateTime? @default(now())
  capacity       Int?
  cfSender       String?   @db.VarChar(255)
  cfPhone        String?   @db.VarChar(255)
  SendStatus     String?   @db.VarChar(255)
  approvedNumber String?   @db.VarChar(10)
  RejectReason   String?   @db.VarChar(255)
  CancelReason   String?   @db.VarChar(255)

  clearStatus  String? @db.VarChar(50)
  damageAction String? @db.VarChar(100)
  remark       String? @db.Text

  createdAt    DateTime? @default(now())
  updatedAt    DateTime? @updatedAt
  RecordStatus String?   @db.VarChar(1)

  calendarEventId String? @db.VarChar(255)
}

model RoomUsageStats {
  id             Int      @id @default(autoincrement())
  RoomName       String   @unique
  totalUsage     Int
  totalWorkHours Int
  updatedAt      DateTime @updatedAt
}

model Signature {
  id        Int    @id @default(autoincrement())
  userEmail String @unique
  fileName  String
}

model users {
  userID         Int       @id @default(autoincrement())
  userEmail      String?   @unique @db.VarChar(255)
  officeLocation String?   @db.VarChar(255)
  role           String?   @db.VarChar(255)
  createDate     DateTime? @default(now())
  lastEdit       DateTime? @updatedAt
  RecordStatus   String?   @db.VarChar(1)
}

model Assessment {
  id          Int      @id @default(autoincrement())
  meetingRoom String?  @db.VarChar(255)
  gender      String?  @db.VarChar(255)
  role        String?  @db.VarChar(255)
  responses   Json
  comment     String?
  createdAt   DateTime @default(now())
}

// npx prisma migrate dev --name new-migration
// npx prisma db push
// npx prisma migrate reset

// import client สำหรับ database 1
//import { PrismaClient as PrismaClientDB1 } from '../prisma/generated/db1';
//const prismaDB1 = new PrismaClientDB1();

// import client สำหรับ database 2
//import { PrismaClient as PrismaClientDB2 } from '../prisma/generated/db2';
//const prismaDB2 = new PrismaClientDB2();

// ตัวอย่างการใช้งาน
// async function example() {
//   const bookings = await prismaDB1.bookingInfo.findMany();
//   const usageStats = await prismaDB2.roomUsageStats.findMany();
// }
